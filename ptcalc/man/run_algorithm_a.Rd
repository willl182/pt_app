% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/pt_robust_stats.R
\name{run_algorithm_a}
\alias{run_algorithm_a}
\title{ISO 13528 Algorithm A - Robust Mean and Standard Deviation}
\usage{
run_algorithm_a(values, ids = NULL, max_iter = 50)
}
\arguments{
\item{values}{A numeric vector of participant results.}

\item{ids}{Optional vector of participant identifiers (same length as values).}

\item{max_iter}{Maximum number of iterations (default: 50).}
}
\value{
A list containing:
\itemize{
\item assigned_value: Robust mean (x*)
\item robust_sd: Robust standard deviation (s*)
\item iterations: Data frame of iteration history
\item winsorized_values: Data frame with original and winsorized values
\item converged: Logical indicating convergence
\item n_participants: Number of participants used
\item error: Error message or NULL if successful
}
}
\description{
Iterative algorithm for computing robust estimates of location (x*) and
scale (s*) from proficiency testing data using Winsorization.
}
\details{
Algorithm A is an iterative procedure that computes robust estimates:
\enumerate{
\item Initialize with median (x*) and scaled MAD (s*)
\item Compute delta: δ = 1.5 × s*
\item Winsorize values: clamp to \code{[x* - δ, x* + δ]}
4. Update x* = mean(winsorized), s* = 1.134 × sqrt(Σ(x* - x)²/(p-1))
\item Repeat until convergence (no change in 3rd significant figure)
}

Reference: ISO 13528:2022, Annex C.3
}
\examples{
# Robust mean/sd with outlier in data
values <- c(10.1, 10.2, 9.9, 10.0, 10.3, 50.0)  # 50 is outlier
result <- run_algorithm_a(values)
cat("Robust mean:", result$assigned_value, "\n")
cat("Robust SD:", result$robust_sd, "\n")

}
\seealso{
\code{\link{calculate_niqr}}, \code{\link{calculate_mad_e}}
}
