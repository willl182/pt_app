# **Protocolo de Auditoría Detallado: Semana 6**

Fecha de Auditoría: 21 de octubre de 2025  
Auditor: Pt calaire (Project Manager)  
Módulo Auditado: Integración UI-Servidor en app.R

### **1\. Actividades del Cronograma a Evaluar**

* "Conexión de los controles de la UI con las funciones del motor estadístico." \[cite: 20251020 Propuesta Desarrollo\]

### **2\. Objetivo de la Auditoría**

Verificar que las acciones del usuario en la interfaz (UI) activan de manera correcta y fiable las funciones de cálculo en el servidor, y que los resultados generados se muestran adecuadamente en los elementos de salida correspondientes. Se audita la reactividad y el flujo de datos de la aplicación.

### **3\. Criterios de Éxito y Evidencia**

| Criterio de Éxito | Evidencia Clave a Revisar en app.R | Estado Esperado |
| :---- | :---- | :---- |
| **1\. Activación Correcta de Cálculos** | El uso de observeEvent o eventReactive para vincular los actionButton (ej. input$run\_homogeneity) con las lógicas de cálculo (ej. homogeneity\_run). | Presionar un botón de "Ejecutar Análisis" debe ser la única acción que dispare el cálculo principal para ese módulo. La lógica no debe ejecutarse automáticamente al cambiar otros parámetros. |
| **2\. Flujo de Datos Correcto (Input \-\> Server)** | El uso de los objetos input (ej. input$file\_homogeneity, input$pt\_sigma\_method) dentro de las expresiones reactivas del servidor. | Los datos cargados por el usuario y los parámetros seleccionados en la UI deben ser los que se utilizan en las funciones de cálculo del servidor en el momento de la ejecución. |
| **3\. Renderizado Correcto de Resultados (Server \-\> Output)** | Las funciones render\* (ej. renderDataTable, renderPlot) que asignan los resultados de los cálculos a los objetos output (ej. output$homogeneity\_summary\_table). | Las tablas, gráficos y textos generados en el servidor deben aparecer en las áreas designadas de la UI inmediatamente después de que el cálculo se complete. |
| **4\. Aislamiento entre Módulos** | La estructura de las expresiones reactivas. | La ejecución de un análisis en un módulo (ej. Homogeneidad) no debe afectar ni disparar cálculos en otros módulos no relacionados (ej. PT Scores). |
| **5\. Manejo de Estado y Reactividad Controlada** | El uso de req() o validate() al inicio de las expresiones reactivas para asegurar que las entradas necesarias estén disponibles. | Un cálculo no debe intentarse si los datos requeridos no han sido cargados. La UI debe permanecer en un estado de espera o mostrar un mensaje pidiendo al usuario que cargue los datos. |

### **4\. Plan de Pruebas (Casos de Uso)**

| ID Prueba | Tipo | Pasos a Ejecutar | Resultado Esperado |
| :---- | :---- | :---- | :---- |
| **T6.1** | **Integración End-to-End (Homogeneidad)** | 1\. Ejecutar app.R. 2\. Cargar el archivo homogeneity\_valid.csv en el módulo de Homogeneidad. 3\. Hacer clic en el botón "Run Homogeneity Analysis". | Inmediatamente después del clic, la tabla de resumen y el gráfico de homogeneidad deben aparecer (o actualizarse) con los resultados correctos correspondientes al archivo cargado. |
| **T6.2** | **Integración End-to-End (PT Scores)** | 1\. Cargar el archivo scores\_valid.csv en el módulo de PT Scores. 2\. Hacer clic en el botón "Run Score Analysis". | La tabla de puntajes y los gráficos de barras deben generarse con los resultados del archivo scores\_valid.csv. |
| **T6.3** | **Prueba de Reactividad Controlada** | 1\. Realizar la prueba T6.1. 2\. Sin cambiar nada más, volver a hacer clic en el botón "Run Homogeneity Analysis". 3\. Cargar un archivo diferente, homogeneity\_fail.csv, pero no hacer clic en el botón de análisis. | Al hacer clic por segunda vez, los resultados no deben cambiar. Al cargar el nuevo archivo, los resultados mostrados deben seguir siendo los del primer análisis, demostrando que el actionButton controla la ejecución. |
| **T6.4** | **Prueba de Aislamiento** | 1\. Cargar datos y ejecutar el análisis en el módulo de Homogeneidad. 2\. Navegar al módulo de PT Scores (sin cargar datos allí). | El módulo de PT Scores debe permanecer vacío o mostrar un mensaje pidiendo datos. Los resultados del módulo de Homogeneidad no deben "filtrarse" ni afectar a este módulo. |
| **T6.5** | **Fallo Controlado (Datos Ausentes)** | 1\. Ejecutar app.R. 2\. Navegar al módulo de Estabilidad. 3\. Hacer clic en el botón "Run Stability Analysis" sin haber cargado un archivo de datos. | La aplicación no debe fallar (crash). Debe mostrar un mensaje de error o advertencia en la UI, como "Por favor, cargue un archivo de datos para continuar." |

### **5\. Herramientas Requeridas**

* Entorno de desarrollo R (ej. RStudio).  
* El script app.R.  
* Conjuntos de datos de prueba: homogeneity\_valid.csv, homogeneity\_fail.csv, scores\_valid.csv.

Este plan valida la columna vertebral de la aplicación Shiny. Si la integración es sólida, significa que tenemos una herramienta fiable donde las acciones del usuario tienen las consecuencias esperadas.

¿Procedemos con la auditoría para la Semana 7?