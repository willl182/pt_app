# **Protocolo de Auditoría Detallado: Semana 3**

Fecha de Auditoría: 21 de octubre de 2025  
Auditor: Pt calaire (Project Manager)  
Módulo Auditado: Núcleo de Análisis Robusto (Algoritmo A, nIQR, MADe) en app.R

### **1\. Actividades del Cronograma a Evaluar**

* "Desarrollo del núcleo de análisis robusto (Algoritmo A, nIQR, MADe)." \[cite: 20251020 Propuesta Desarrollo\]  
* Esto cubre la validación del Algoritmo A de la norma ISO 13528 y los estimadores robustos de dispersión (MADe, nIQR).

### **2\. Objetivo de la Auditoría**

Verificar que la implementación del Algoritmo A y el cálculo de los estimadores robustos nIQR y MADe en app.R son matemáticamente correctos y producen resultados precisos y fiables, consistentes con los estándares internacionales.

### **3\. Criterios de Éxito y Evidencia**

| Criterio de Éxito | Evidencia Clave a Revisar en app.R | Estado Esperado |
| :---- | :---- | :---- |
| **1\. Correctitud de la Implementación del Algoritmo A** | La lógica iterativa del Algoritmo A, incluyendo el cálculo de x\*, s\* y la actualización de valores. Se encuentra en el módulo del servidor correspondiente (app.R:1286-1371). | El proceso iterativo debe seguir fielmente los pasos descritos en la norma ISO 13528\. Los resultados finales (robust\_mean, robust\_sd) deben coincidir con un caso de prueba validado. |
| **2\. Correctitud del Cálculo de nIQR** | La función de ayuda calculate\_niqr (app.R:28-33). | La fórmula 0.7413 \* (Q3 \- Q1) debe estar implementada correctamente. El valor devuelto debe ser preciso para un vector de datos de prueba. |
| **3\. Correctitud del Cálculo de MADe** | El cálculo de la Desviación Absoluta Mediana Escalada, usado como sigma\_pt en el módulo de homogeneidad (app.R:172). | El valor de MADe (1.483 \* median(abs(x \- median(x)))) debe ser calculado correctamente. |
| **4\. Integración y Uso Correcto** | El uso de nIQR y MADe en los resúmenes estadísticos (ej. app.R:173, app.R:273) y la presentación de los resultados del Algoritmo A en la UI (output$alg\_a\_summary\_table). | Los valores calculados por las funciones robustas deben ser los que se utilizan y se muestran en las tablas de resultados correspondientes de la aplicación. |
| **5\. Manejo de Casos Límite (Edge Cases)** | Comportamiento del Algoritmo A con pocos datos o con presencia de outliers extremos. | El algoritmo no debe fallar. Debe converger a un resultado estable o, si el número de datos es insuficiente, mostrar un mensaje de advertencia claro al usuario. |

### **4\. Plan de Pruebas (Casos de Uso)**

| ID Prueba | Tipo | Pasos a Ejecutar | Resultado Esperado |
| :---- | :---- | :---- | :---- |
| **T3.1** | **Validación (Algoritmo A)** | 1\. Utilizar un conjunto de datos (alg\_a\_valid.csv) con un valor asignado robusto y una desviación estándar robusta pre-calculados según la norma. 2\. Ejecutar el módulo "Algorithm A" en app.R. 3\. Comparar la media robusta y la DE robusta de la app con los valores de validación. | Los resultados de la aplicación deben coincidir con los valores de validación externos, demostrando que el bucle iterativo y los cálculos son correctos. |
| **T3.2** | **Validación (nIQR y MADe)** | 1\. Usar un conjunto de datos simple (robust\_estimators\_valid.csv) donde nIQR y MADe se puedan calcular fácilmente a mano o en Excel. 2\. Ejecutar el análisis de Homogeneidad en app.R. 3\. Verificar los valores de nIQR y sigma\_pt (MADe) en la tabla de resumen. | Los valores mostrados en la app para nIQR y MADe deben ser idénticos a los calculados externamente. |
| **T3.3** | **Robustez (Algoritmo A con Outliers)** | 1\. Usar un conjunto de datos (alg\_a\_outliers.csv) que contenga uno o dos outliers evidentes. 2\. Ejecutar el Algoritmo A. 3\. Comparar la media robusta final con la media aritmética simple del conjunto de datos. | La media robusta calculada por el algoritmo debe ser significativamente diferente de la media simple y estar más cerca del centro "verdadero" de los datos no atípicos. |
| **T3.4** | **Edge Case (Datos Insuficientes)** | 1\. Intentar ejecutar el Algoritmo A con un conjunto de datos que tenga menos de los puntos requeridos por la norma (ej. n \< 4). | La aplicación no debe fallar. Debe mostrar un mensaje claro al usuario, como "Se requiere un mínimo de X participantes para ejecutar el Algoritmo A". |

### **5\. Herramientas Requeridas**

* Entorno de desarrollo R (ej. RStudio).  
* El script app.R.  
* Conjuntos de datos de prueba: alg\_a\_valid.csv, alg\_a\_outliers.csv, robust\_estimators\_valid.csv.  
* Hoja de cálculo o script externo (Python, R) con los resultados de validación pre-calculados para el Algoritmo A, nIQR y MADe.

Este plan nos asegura que el corazón del análisis, la determinación de un valor de consenso fiable, está construido sobre una base sólida y correcta.