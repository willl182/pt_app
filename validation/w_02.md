# **Protocolo de Auditoría Detallado: Semana 2**

Fecha de Auditoría: 21 de octubre de 2025  
Auditor: Pt calaire (Project Manager)  
Módulo Auditado: Pruebas de Validación de Ítems (Homogeneidad y Estabilidad) en app.R

### **1\. Actividades del Cronograma a Evaluar**

* "Implementación de pruebas de validación de ítems (Homogeneidad y Estabilidad)." \[cite: 20251020 Propuesta Desarrollo\]  
* Esto incluye los cálculos tipo ANOVA para homogeneidad y la comparación de medias (t-test) para estabilidad.

### **2\. Objetivo de la Auditoría**

Validar que los cálculos estadísticos para determinar la homogeneidad y estabilidad de los ítems de ensayo de aptitud son implementados correctamente en app.R, conforme a los métodos definidos en la propuesta y la normativa de referencia.

### **3\. Criterios de Éxito y Evidencia**

| Criterio de Éxito | Evidencia Clave a Revisar en app.R | Estado Esperado |
| :---- | :---- | :---- |
| **1\. Correctitud del Cálculo de Homogeneidad** | Función compute\_homogeneity\_metrics (app.R:101-229) y la reactiva homogeneity\_run (app.R:286-474). | Los valores calculados (ss, sw, s\_bb, x\_bar, σ\_pt) deben coincidir con un conjunto de datos de validación pre-calculado externamente. |
| **2\. Aplicación Correcta del Criterio de Homogeneidad** | La lógica condicional que compara ss con 0.3 \* sigma\_pt\_value dentro del módulo de homogeneidad. | El estado final ("HOMOGENEOUS" / "NOT HOMOGENEOUS") debe reflejar correctamente el resultado de esta comparación. |
| **3\. Correctitud del Cálculo de Estabilidad** | Función compute\_stability\_metrics (app.R:231-348) y la reactiva stability\_run (app.R:476-676). | Las medias, desviaciones y el resultado del t-test deben coincidir con los valores de un caso de prueba validado. |
| **4\. Presentación Clara de Resultados** | Las tablas de resultados (output$homogeneity\_summary, output$stability\_summary) y los mensajes de estado en la UI. | Las tablas deben mostrar todos los parámetros calculados de forma clara. El veredicto final (ej. "Item is HOMOGENEOUS") debe ser visible y inequívoco. |
| **5\. Manejo de Datos Insuficientes** | Comprobaciones dentro de las funciones de cálculo (ej. if (length(unique(data$replicate)) \< 2)). | Si los datos no son suficientes para realizar un cálculo (ej. menos de 2 réplicas), la aplicación debe mostrar un mensaje de advertencia en lugar de producir un error o un resultado incorrecto. |

### **4\. Plan de Pruebas (Casos de Uso)**

Se requieren conjuntos de datos específicos para validar estos cálculos.

| ID Prueba | Tipo | Pasos a Ejecutar | Resultado Esperado |
| :---- | :---- | :---- | :---- |
| **T2.1** | **Validación (Homogeneidad)** | 1\. Usar un conjunto de datos (homogeneity\_valid.csv) con resultados de ss, sw, s\_bb, etc., calculados y verificados en Excel o Python. 2\. Ejecutar el análisis de homogeneidad en app.R. 3\. Comparar cada valor de la tabla de resultados de la app con los valores de validación. | Todos los parámetros calculados en la app deben coincidir exactamente (con una tolerancia razonable de redondeo) con los valores de validación externos. |
| **T2.2** | **Fallo (Homogeneidad)** | 1\. Usar un conjunto de datos (homogeneity\_fail.csv) donde se sabe que ss es mayor que 0.3 \* σ\_pt. 2\. Ejecutar el análisis de homogeneidad. | La aplicación debe mostrar el estado final "NOT HOMOGENEOUS". |
| **T2.3** | **Validación (Estabilidad)** | 1\. Usar un conjunto de datos (stability\_valid.csv) con resultados de t-test pre-calculados. 2\. Ejecutar el análisis de estabilidad en app.R. | El p-valor y la conclusión del t-test ("No significant difference" / "Significant difference") deben coincidir con el análisis de validación. |
| **T2.4** | **Fallo (Estabilidad)** | 1\. Usar un conjunto de datos (stability\_fail.csv) donde existe una diferencia estadísticamente significativa entre las mediciones. 2\. Ejecutar el análisis de estabilidad. | La aplicación debe concluir que existe una diferencia significativa, indicando que el ítem podría no ser estable. |
| **T2.5** | **Edge Case (Datos Insuficientes)** | 1\. Usar un archivo homogeneity.csv con una sola réplica por muestra. 2\. Ejecutar el análisis de homogeneidad. | La aplicación no debe fallar (crash). Debe mostrar un mensaje informativo como "Error: Se requieren al menos 2 réplicas para el cálculo de homogeneidad." |

### **5\. Herramientas Requeridas**

* Entorno de desarrollo R (ej. RStudio).  
* El script app.R.  
* Conjuntos de datos de prueba: homogeneity\_valid.csv, homogeneity\_fail.csv, stability\_valid.csv, stability\_fail.csv.  
* Hoja de cálculo o script externo con los resultados de validación pre-calculados.

Este protocolo nos permitirá verificar con un alto grado de confianza que el núcleo estadístico para la validación de ítems es correcto.